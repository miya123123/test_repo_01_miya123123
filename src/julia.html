<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<script src="https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.min.js"></script>
</head>
<body>
<script>
function setup(){createCanvas(400,400);pixelDensity(1);noLoop();}
function draw(){
  loadPixels();
  for(let x=0;x<width;x++){
    for(let y=0;y<height;y++){
      let a=map(x,0,width,-1.5,1.5);
      let b=map(y,0,height,-1.5,1.5);
      const ca=-0.7, cb=0.27015;
      let n=0;
      while(n<50){
         let aa=a*a-b*b;
         let bb=2*a*b;
         a=aa+ca;
         b=bb+cb;
         if(abs(a+b)>4)break;
         n++;
      }
      let bright=map(n,0,50,0,255);
      let pix=(x+y*width)*4;
      pixels[pix]=bright;
      pixels[pix+1]=bright;
      pixels[pix+2]=bright;
      pixels[pix+3]=255;
    }
  }
  updatePixels();
}
</script>
</body>
</html>
